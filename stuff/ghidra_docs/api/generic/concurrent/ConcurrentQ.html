<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ConcurrentQ</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConcurrentQ";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">generic.concurrent</a></div>
<h2 title="Class ConcurrentQ" class="title">Class ConcurrentQ&lt;I,&#8203;R&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>generic.concurrent.ConcurrentQ&lt;I,&#8203;R&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>I</code> - The type of the items to be processed.</dd>
<dd><code>R</code> - The type of objects resulting from processing an item; if you don't care about the
            return value, then make this value whatever you want, like <code>Object</code> or the
            same value as <code>I</code> and return null from <a href="QCallback.html#process(I,ghidra.util.task.TaskMonitor)"><code>QCallback.process(Object, TaskMonitor)</code></a>.</dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ConcurrentQ&lt;I,&#8203;R&gt;</span>
extends java.lang.Object</pre>
<div class="block">A queue for easily scheduling tasks to be run in parallel (or sequentially)
 via a thread pool.  This class provides a clean separation of items that need to
 be processed from the algorithm that does the processing, making it easy to parallelize
 the processing of multiple items.   Further, you can control the maximum number of items that
 can be processed concurrently.  This is useful to throttle operations that may starve the
 other threads in the system.  You may also control how many items get placed into the queue
 at one time, blocking if some threshold is exceeded.
 <p>
 Examples:
 <hr>
 <p>
 <u>Put and Forget:</u>
 <pre>
 QCallback&lt;ITEM, RESULT&gt; callback = new AbstractQCallback&lt;ITEM, RESULT&gt;() {
     public RESULT process(ITEM item, TaskMonitor monitor) {
         // do work here...
     }
 };
 
 ConcurrentQBuilder&lt;ITEM, RESULT&gt; builder = new ConcurrentQBuilder&lt;ITEM, RESULT&gt;();
 builder.setThreadPoolName("Thread Pool Name");
 concurrentQ = builder.getQueue(callback);
 ...
 ...
 concurrentQ.add(item); // where item is one of the instances of ITEM
 
 </pre>
 <hr>
 <p>
 <u>Put Items and Handle Results in Any Order as They Available:</u>
 <pre>
 QCallback&lt;ITEM, RESULT&gt; callback = new AbstractQCallback&lt;ITEM, RESULT&gt;() {
     public RESULT process(ITEM item, TaskMonitor monitor) {
         // do work here...
     }
 };
 
 QItemListener&lt;ITEM, RESULT&gt; itemListener = new QItemListener&lt;ITEM, RESULT&gt;() {
     public void itemProcessed(QResult&lt;ITEM, RESULT&gt; result) {
         RESULT result = result.getResult();
             <span style="color:blue"><b>// work on my result...</b></span>
         }
 };
 
 ConcurrentQBuilder&lt;ITEM, RESULT&gt; builder = new ConcurrentQBuilder&lt;ITEM, RESULT&gt;();
 builder.setThreadPoolName("Thread Pool Name");
 <span style="color:blue"><b>builder.setListener(itemListener);</b></span>
 concurrentQ = builder.build(callback);
 ...
 ...
 concurrentQ.add(item); // where item is one of the instances of ITEM
 concurrentQ.add(item);
 concurrentQ.add(item);
 
 </pre>
 
 <hr>
 <p>
 <u>Put Items and Handle Results When All Items Have Been Processed:</u>
 <pre>
 QCallback&lt;ITEM, RESULT&gt; callback = new AbstractQCallback&lt;ITEM, RESULT&gt;() {
     public RESULT process(ITEM item, TaskMonitor monitor) {
         // do work here...
     }
 };

 ConcurrentQBuilder&lt;ITEM, RESULT&gt; builder = new ConcurrentQBuilder&lt;ITEM, RESULT&gt;();
 builder.setThreadPoolName("Thread Pool Name");
 <span style="color:blue"><b>builder.setCollectResults(true);</b></span>
 concurrentQ = builder.getQueue(callback);
 ...
 ...
 concurrentQ.add(item); // where item is one of the instances of ITEM
 concurrentQ.add(item);
 concurrentQ.add(item);
 ...
 
 <span style="color:blue"><b>List&lt;QResult&lt;I, R&gt;&gt; results = concurrentQ.waitForResults();</b></span>
 // process the results...
 
 </pre>
 <hr>
 <p>
 <u>Put Items, <b>Blocking While Full</b>, and Handle Results in Any Order as They Available:</u>
 <pre>
 QCallback&lt;ITEM, RESULT&gt; callback = new AbstractQCallback&lt;ITEM, RESULT&gt;() {
     public RESULT process(ITEM item, TaskMonitor monitor) {
         // do work here...
     }
 };

 QItemListener&lt;ITEM, RESULT&gt; itemListener = new QItemListener&lt;ITEM, RESULT&gt;() {
     public void itemProcessed(QResult&lt;ITEM, RESULT&gt; result) {
         RESULT result = result.getResult();
             // work on my result...
         }
 };
 
 ConcurrentQBuilder&lt;ITEM, RESULT&gt; builder = new ConcurrentQBuilder&lt;ITEM, RESULT&gt;();
 builder.setThreadPoolName("Thread Pool Name");
 <span style="color:blue"><b>builder.setQueue(new LinkedBlockingQueue(100));</b></span>
 concurrentQ = builder.getQueue(callback);
 ...
 ...
 Iterator&lt;ITEM&gt; iterator = &lt;get an iterator for 1000s of items somewhere&gt;
 <span style="color:blue"><b><code>concurrentQ.offer(iterator); // this call will block when the queue fills up (100 items or more)</code></b></span>
 
 </pre>
 <hr></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(generic.concurrent.QCallback,java.util.Queue,generic.concurrent.GThreadPool,generic.concurrent.QItemListener,boolean,int,boolean)">ConcurrentQ</a></span>&#8203;(<a href="QCallback.html" title="interface in generic.concurrent">QCallback</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&nbsp;callback,
           java.util.Queue&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;queue,
           <a href="GThreadPool.html" title="class in generic.concurrent">GThreadPool</a>&nbsp;threadPool,
           <a href="QItemListener.html" title="interface in generic.concurrent">QItemListener</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&nbsp;listener,
           boolean&nbsp;collectResults,
           int&nbsp;maxInProgress,
           boolean&nbsp;jobsReportProgress)</code></th>
<td class="colLast">
<div class="block">Creates a ConcurrentQ that will process at most maxInProgress items at a time, regardless of
 how many threads are available in the GThreadPool.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,generic.concurrent.QCallback)">ConcurrentQ</a></span>&#8203;(java.lang.String&nbsp;name,
           <a href="QCallback.html" title="interface in generic.concurrent">QCallback</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&nbsp;callback)</code></th>
<td class="colLast">
<div class="block">Creates a ConcurrentQ that will process as many items as the given threadPool can handle
 at one time.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#add(I)">add</a></span>&#8203;(<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&nbsp;item)</code></th>
<td class="colLast">
<div class="block">Adds the item to this queue for concurrent processing.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#add(java.util.Collection)">add</a></span>&#8203;(java.util.Collection&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;items)</code></th>
<td class="colLast">
<div class="block">Adds the list of items to this queue for concurrent processing.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#add(java.util.Iterator)">add</a></span>&#8203;(java.util.Iterator&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;iterator)</code></th>
<td class="colLast">
<div class="block">Adds the items of the given iterator to this queue for concurrent processing.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addProgressListener(generic.concurrent.QProgressListener)">addProgressListener</a></span>&#8203;(<a href="QProgressListener.html" title="interface in generic.concurrent">QProgressListener</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Adds a progress listener for this queue.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cancelAllTasks(boolean)">cancelAllTasks</a></span>&#8203;(boolean&nbsp;interruptRunningTasks)</code></th>
<td class="colLast">
<div class="block">Cancels the processing of currently scheduled items in this queue.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cancelScheduledJobs()">cancelScheduledJobs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dispose()">dispose</a></span>()</code></th>
<td class="colLast">
<div class="block">Cancels all running tasks and disposes of the internal thread pool if it is a private
 pool.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEmpty()">isEmpty</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if this queue has no items waiting to be processed or currently being processed.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#offer(java.util.Iterator)">offer</a></span>&#8203;(java.util.Iterator&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;iterator)</code></th>
<td class="colLast">
<div class="block">Allows clients to use a bounded queue (such as a <code>LinkedBlockingQueue</code> to control
 how many items get placed into this queue at one time.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeProgressListener(generic.concurrent.QProgressListener)">removeProgressListener</a></span>&#8203;(<a href="QProgressListener.html" title="interface in generic.concurrent">QProgressListener</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Removes a progress listener from this queue.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeUnscheduledJobs()">removeUnscheduledJobs</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMonitor(ghidra.util.task.TaskMonitor,boolean)">setMonitor</a></span>&#8203;(<a href="../../ghidra/util/task/TaskMonitor.html" title="interface in ghidra.util.task">TaskMonitor</a>&nbsp;monitor,
          boolean&nbsp;cancelClearsAllItems)</code></th>
<td class="colLast">
<div class="block">Sets the monitor to use with this queue.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="QResult.html" title="class in generic.concurrent">QResult</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForNextResult()">waitForNextResult</a></span>()</code></th>
<td class="colLast">
<div class="block">Wait until at least one result is available and then return the first result.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="QResult.html" title="class in generic.concurrent">QResult</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForResults()">waitForResults</a></span>()</code></th>
<td class="colLast">
<div class="block">Waits until all scheduled items have been completed or cancelled and returns a list of
 QResults if this queue has been told to collect results.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="QResult.html" title="class in generic.concurrent">QResult</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForResults(long,java.util.concurrent.TimeUnit)">waitForResults</a></span>&#8203;(long&nbsp;timeout,
              java.util.concurrent.TimeUnit&nbsp;unit)</code></th>
<td class="colLast">
<div class="block">Waits up to the specified time for scheduled jobs to complete.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitUntilDone()">waitUntilDone</a></span>()</code></th>
<td class="colLast">
<div class="block">Waits until all items have been processed <b>OR</b> an Exception happens during the
 processing of <b>ANY item</b>.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitUntilDone(long,java.util.concurrent.TimeUnit)">waitUntilDone</a></span>&#8203;(long&nbsp;timeout,
             java.util.concurrent.TimeUnit&nbsp;unit)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String,generic.concurrent.QCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ConcurrentQ</h4>
<pre>public&nbsp;ConcurrentQ&#8203;(java.lang.String&nbsp;name,
                   <a href="QCallback.html" title="interface in generic.concurrent">QCallback</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&nbsp;callback)</pre>
<div class="block">Creates a ConcurrentQ that will process as many items as the given threadPool can handle
 at one time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The name of the thread pool that will be created by this constructor.</dd>
<dd><code>callback</code> - the QWorker object that will be used to process items concurrently.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(generic.concurrent.QCallback,java.util.Queue,generic.concurrent.GThreadPool,generic.concurrent.QItemListener,boolean,int,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConcurrentQ</h4>
<pre>public&nbsp;ConcurrentQ&#8203;(<a href="QCallback.html" title="interface in generic.concurrent">QCallback</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&nbsp;callback,
                   java.util.Queue&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;queue,
                   <a href="GThreadPool.html" title="class in generic.concurrent">GThreadPool</a>&nbsp;threadPool,
                   <a href="QItemListener.html" title="interface in generic.concurrent">QItemListener</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&nbsp;listener,
                   boolean&nbsp;collectResults,
                   int&nbsp;maxInProgress,
                   boolean&nbsp;jobsReportProgress)</pre>
<div class="block">Creates a ConcurrentQ that will process at most maxInProgress items at a time, regardless of
 how many threads are available in the GThreadPool.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callback</code> - the QWorker object that will be used to process items concurrently.</dd>
<dd><code>queue</code> - the internal storage queue to use in this concurrent queue.</dd>
<dd><code>threadPool</code> - the GThreadPool to used for providing the threads for concurrent processing.</dd>
<dd><code>listener</code> - An optional QItemListener that will be called back with results when the
                item has been processed.</dd>
<dd><code>collectResults</code> - specifies if this queue should collect the results as items are processed
                 so they can be returned in a waitForResults() call.</dd>
<dd><code>maxInProgress</code> - specifies the maximum number of items that can be process at a time.
                 If this is set to 0, then this queue will attempt to execute as many
                 items at a time as there are threads in the given threadPool.  Setting
                 this parameter to 1 will have the effect of guaranteeing that
                 all times are processed one at a time in the order they were submitted.
                 Any other positive value will run that many items concurrently,
                 up to the number of available threads.</dd>
<dd><code>jobsReportProgress</code> - true signals that jobs wish to report progress via their task
                 monitor.  The default is false, which triggers this queue to report an
                 overall progress for each job that is processed.  False is a good default
                 for clients that have a finite number of jobs to be done.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="addProgressListener(generic.concurrent.QProgressListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addProgressListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addProgressListener&#8203;(<a href="QProgressListener.html" title="interface in generic.concurrent">QProgressListener</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;listener)</pre>
<div class="block">Adds a progress listener for this queue.  All the progress and messages reported by a
 QWorker will be routed to these listener.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener for receiving progress and message notifications.</dd>
</dl>
</li>
</ul>
<a id="removeProgressListener(generic.concurrent.QProgressListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeProgressListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeProgressListener&#8203;(<a href="QProgressListener.html" title="interface in generic.concurrent">QProgressListener</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;listener)</pre>
<div class="block">Removes a progress listener from this queue.  All the progress and messages reported by a
 QWorker will be routed to this listener.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener for receiving progress and message notifications.</dd>
</dl>
</li>
</ul>
<a id="setMonitor(ghidra.util.task.TaskMonitor,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMonitor</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setMonitor&#8203;(<a href="../../ghidra/util/task/TaskMonitor.html" title="interface in ghidra.util.task">TaskMonitor</a>&nbsp;monitor,
                       boolean&nbsp;cancelClearsAllItems)</pre>
<div class="block">Sets the monitor to use with this queue.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>monitor</code> - the monitor to attache to this queue</dd>
<dd><code>cancelClearsAllItems</code> - if true, cancelling the monitor will cancel all items currently
                                                                being processed by a thread and clear the scheduled
                                                                items that haven't yet run.
                                                                If false, only the items currently being processed will be cancelled.</dd>
</dl>
</li>
</ul>
<a id="add(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;add&#8203;(java.util.Collection&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;items)</pre>
<div class="block">Adds the list of items to this queue for concurrent processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>items</code> - the items to be scheduled for concurrent processing</dd>
</dl>
</li>
</ul>
<a id="add(java.util.Iterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;add&#8203;(java.util.Iterator&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;iterator)</pre>
<div class="block">Adds the items of the given iterator to this queue for concurrent processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iterator</code> - an iterator from which the items to be scheduled for concurrent processing
              will be taken.</dd>
</dl>
</li>
</ul>
<a id="offer(java.util.Iterator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offer</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;offer&#8203;(java.util.Iterator&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;iterator)
           throws java.lang.InterruptedException</pre>
<div class="block">Allows clients to use a bounded queue (such as a <code>LinkedBlockingQueue</code> to control
 how many items get placed into this queue at one time.  Calling the <code>add</code> methods
 will place all items into the queue, which for a large number of items, can consume a
 large amount of memory.  This method will block once the queue at maximum capacity,
 continuing to add new items as existing items on the queue are processed.
 <p>
 To enable blocking on the queue when it is full, construct this <code>ConcurrentQ</code>
 with an instance of <code>BlockingQueue</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iterator</code> - An iterator from which items will be taken.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if this queue is interrupted while waiting to add more items</dd>
</dl>
</li>
</ul>
<a id="add(java.lang.Object)">
<!--   -->
</a><a id="add(I)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;add&#8203;(<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&nbsp;item)</pre>
<div class="block">Adds the item to this queue for concurrent processing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - the item to be scheduled for concurrent processing.</dd>
</dl>
</li>
</ul>
<a id="isEmpty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEmpty</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block">Returns true if this queue has no items waiting to be processed or currently being processed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this queue has no items waiting to be processed or currently being processed.</dd>
</dl>
</li>
</ul>
<a id="waitForResults()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForResults</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="QResult.html" title="class in generic.concurrent">QResult</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&gt;&nbsp;waitForResults()
                                                        throws java.lang.InterruptedException</pre>
<div class="block">Waits until all scheduled items have been completed or cancelled and returns a list of
 QResults if this queue has been told to collect results.
 <P>
 You can still call this method to wait for items to be processed, even if you did not
 specify to collect results.  In that case, the list returned will be empty.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of QResult objects that have all the results of the completed jobs.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if this call was interrupted--Note:  this interruption only
             happens if the calling thread cannot acquire the lock.  If the thread is
             interrupted while waiting for results, then it will try again.</dd>
</dl>
</li>
</ul>
<a id="waitForNextResult()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForNextResult</h4>
<pre class="methodSignature">public&nbsp;<a href="QResult.html" title="class in generic.concurrent">QResult</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&nbsp;waitForNextResult()
                                     throws java.lang.InterruptedException</pre>
<div class="block">Wait until at least one result is available and then return the first result.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the first available result</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if interrupted while waiting for a result</dd>
<dd><code>java.lang.IllegalStateException</code> - if this queue has been set to not collect results
         (see the constructor).</dd>
</dl>
</li>
</ul>
<a id="waitUntilDone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitUntilDone</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;waitUntilDone()
                   throws java.lang.InterruptedException,
                          java.lang.Exception</pre>
<div class="block">Waits until all items have been processed <b>OR</b> an Exception happens during the
 processing of <b>ANY item</b>.
 <p>
 <b><u>Note:</u></b>
 If an exception does occur then the remaining items in the
 queue will be cleared and all current items will be cancelled.
 <p>
 If you wish for processing to continue for remaining items when any item encounters an
 exception, then you should instead use <a href="#waitForResults()"><code>waitForResults()</code></a>.  That method will return
 all results, both with and without exceptions, which you can then process, including
 checking for exceptions.  Note that to use <a href="#waitForResults()"><code>waitForResults()</code></a> to examine exceptions,
 you must have created this queue with <code>collectResults</code> as true.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if interrupted while waiting for a result</dd>
<dd><code>java.lang.Exception</code> - any exception encountered while processing an item (this will cancel all
         items in the queue).</dd>
</dl>
</li>
</ul>
<a id="waitForResults(long,java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForResults</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="QResult.html" title="class in generic.concurrent">QResult</a>&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>,&#8203;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">R</a>&gt;&gt;&nbsp;waitForResults&#8203;(long&nbsp;timeout,
                                                               java.util.concurrent.TimeUnit&nbsp;unit)
                                                        throws java.lang.InterruptedException</pre>
<div class="block">Waits up to the specified time for scheduled jobs to complete.  The results of all completed
 jobs will be returned if this queue has been told to collect results.  At the time that this
 returns, there may still be work to process.  The returned list will contain as much work
 as has been processed when the wait has finished.  Repeated calls to this method will not
 return results from previous waits.
 <P>
 You can still call this method to wait for items to be processed, even if you did not
 specify to collect results.  In that case, the list returned will be empty.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - the timeout</dd>
<dd><code>unit</code> - the timeout unit</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of QResult objects that have all the results of the completed jobs.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if this call was interrupted.</dd>
</dl>
</li>
</ul>
<a id="cancelAllTasks(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelAllTasks</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;cancelAllTasks&#8203;(boolean&nbsp;interruptRunningTasks)</pre>
<div class="block">Cancels the processing of currently scheduled items in this queue.  Any items that haven't
 yet been scheduled on the threadPool are returned immediately from this call.  Items that
 are currently being processed will be cancelled and those results will be available on the
 next waitForResults() call and also if there is a QItemListener, it will be called with
 the QResult.  There is no guarantee that scheduled tasks will terminate any time soon.  If
 they check the isCancelled() state of their QMonitor, it will be true.  Setting the
 interruptRunningTasks to true, will result in a thread interrupt to any currently running
 task which might be useful if the task perform waiting operations like I/O.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>interruptRunningTasks</code> - if true, an attempt will be made to interrupt any currently
 processing thread.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of all items that have not yet been queued to the threadPool.</dd>
</dl>
</li>
</ul>
<a id="removeUnscheduledJobs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeUnscheduledJobs</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="ConcurrentQ.html" title="type parameter in ConcurrentQ">I</a>&gt;&nbsp;removeUnscheduledJobs()</pre>
</li>
</ul>
<a id="cancelScheduledJobs()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelScheduledJobs</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;cancelScheduledJobs()</pre>
</li>
</ul>
<a id="dispose()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispose</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;dispose()</pre>
<div class="block">Cancels all running tasks and disposes of the internal thread pool if it is a private
 pool.</div>
</li>
</ul>
<a id="waitUntilDone(long,java.util.concurrent.TimeUnit)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>waitUntilDone</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;waitUntilDone&#8203;(long&nbsp;timeout,
                             java.util.concurrent.TimeUnit&nbsp;unit)
                      throws java.lang.InterruptedException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
