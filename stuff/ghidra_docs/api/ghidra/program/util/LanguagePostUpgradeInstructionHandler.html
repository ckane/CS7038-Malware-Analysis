<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LanguagePostUpgradeInstructionHandler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LanguagePostUpgradeInstructionHandler";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">ghidra.program.util</a></div>
<h2 title="Class LanguagePostUpgradeInstructionHandler" class="title">Class LanguagePostUpgradeInstructionHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ghidra.program.util.LanguagePostUpgradeInstructionHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public abstract class <span class="typeNameLabel">LanguagePostUpgradeInstructionHandler</span>
extends java.lang.Object</pre>
<div class="block"><code>LanguagePostUpgradeInstructionHandler</code> provides an abstract implementation 
 of a post language-upgrade instruction modification handler.  The Simple Language Translator
 facilitates the specification of such a handler implementation within a language 
 translator specification file using the <i>post_upgrade_handler</i> element.
 Following a major-version language upgrade, the last translator invoked is given an
 opportunity to perform additional instruction modifications on the entire program.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../model/listing/Program.html" title="interface in ghidra.program.model.listing">Program</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#program">program</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(ghidra.program.model.listing.Program)">LanguagePostUpgradeInstructionHandler</a></span>&#8203;(<a href="../model/listing/Program.html" title="interface in ghidra.program.model.listing">Program</a>&nbsp;program)</code></th>
<td class="colLast">
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#fixupInstructions(ghidra.program.model.lang.Language,ghidra.util.task.TaskMonitor)">fixupInstructions</a></span>&#8203;(<a href="../model/lang/Language.html" title="interface in ghidra.program.model.lang">Language</a>&nbsp;oldLanguage,
                 <a href="../../util/task/TaskMonitor.html" title="interface in ghidra.util.task">TaskMonitor</a>&nbsp;monitor)</code></th>
<td class="colLast">
<div class="block">Invoked after Program language upgrade has completed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected <a href="../disassemble/Disassembler.html" title="class in ghidra.program.disassemble">Disassembler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDisassembler()">getDisassembler</a></span>()</code></th>
<td class="colLast">
<div class="block">Get disassembler for the current program</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#modifySingleInstructionContext(ghidra.program.model.address.Address,ghidra.program.model.lang.RegisterValue,boolean)">modifySingleInstructionContext</a></span>&#8203;(<a href="../model/address/Address.html" title="interface in ghidra.program.model.address">Address</a>&nbsp;addr,
                              <a href="../model/lang/RegisterValue.html" title="class in ghidra.program.model.lang">RegisterValue</a>&nbsp;contextValue,
                              boolean&nbsp;mergeContext)</code></th>
<td class="colLast">
<div class="block">Repair the context and re-disassemble the instruction at the specified address.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="program">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>program</h4>
<pre>protected final&nbsp;<a href="../model/listing/Program.html" title="interface in ghidra.program.model.listing">Program</a> program</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(ghidra.program.model.listing.Program)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LanguagePostUpgradeInstructionHandler</h4>
<pre>public&nbsp;LanguagePostUpgradeInstructionHandler&#8203;(<a href="../model/listing/Program.html" title="interface in ghidra.program.model.listing">Program</a>&nbsp;program)</pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>program</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getDisassembler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDisassembler</h4>
<pre class="methodSignature">protected&nbsp;<a href="../disassemble/Disassembler.html" title="class in ghidra.program.disassemble">Disassembler</a>&nbsp;getDisassembler()</pre>
<div class="block">Get disassembler for the current program</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>disassembler instance</dd>
</dl>
</li>
</ul>
<a id="fixupInstructions(ghidra.program.model.lang.Language,ghidra.util.task.TaskMonitor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fixupInstructions</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;fixupInstructions&#8203;(<a href="../model/lang/Language.html" title="interface in ghidra.program.model.lang">Language</a>&nbsp;oldLanguage,
                                       <a href="../../util/task/TaskMonitor.html" title="interface in ghidra.util.task">TaskMonitor</a>&nbsp;monitor)
                                throws <a href="../../util/exception/CancelledException.html" title="class in ghidra.util.exception">CancelledException</a></pre>
<div class="block">Invoked after Program language upgrade has completed.  
 Implementation of this method permits the final re-disassembled program to be
 examined/modified to address more complex language upgrades.  This method will only be 
 invoked on the latest translator, which means all complex multi-version post-upgrade
 concerns must factor in the complete language transition.  The program's language 
 information will still reflect the original pre-upgrade state, and if the program is
 undergoing a schema version upgrade as well, certain complex upgrades may not
 have been completed (e.g., Function and Variable changes).  Program modifications should
 be restricted to instruction and instruction context changes only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldLanguage</code> - the oldest language involved in the current upgrade translation
 (this is passed since this is the only fixup invocation which must handle the any
 relevant fixup complexities when transitioning from the specified oldLanguage).</dd>
<dd><code>monitor</code> - task monitor</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exception/CancelledException.html" title="class in ghidra.util.exception">CancelledException</a></code> - if upgrade cancelled</dd>
</dl>
</li>
</ul>
<a id="modifySingleInstructionContext(ghidra.program.model.address.Address,ghidra.program.model.lang.RegisterValue,boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>modifySingleInstructionContext</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;modifySingleInstructionContext&#8203;(<a href="../model/address/Address.html" title="interface in ghidra.program.model.address">Address</a>&nbsp;addr,
                                              <a href="../model/lang/RegisterValue.html" title="class in ghidra.program.model.lang">RegisterValue</a>&nbsp;contextValue,
                                              boolean&nbsp;mergeContext)</pre>
<div class="block">Repair the context and re-disassemble the instruction at the specified address.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>addr</code> - instruction address</dd>
<dd><code>contextValue</code> - new context value</dd>
<dd><code>mergeContext</code> - if true, the specified context value will be merged with the existing 
 context at the specified address, otherwise the existing value will be replaced.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
