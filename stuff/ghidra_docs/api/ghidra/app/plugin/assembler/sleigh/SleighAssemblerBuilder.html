<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>SleighAssemblerBuilder</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SleighAssemblerBuilder";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">ghidra.app.plugin.assembler.sleigh</a></div>
<h2 title="Class SleighAssemblerBuilder" class="title">Class SleighAssemblerBuilder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ghidra.app.plugin.assembler.sleigh.SleighAssemblerBuilder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../AssemblerBuilder.html" title="interface in ghidra.app.plugin.assembler">AssemblerBuilder</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">SleighAssemblerBuilder</span>
extends java.lang.Object
implements <a href="../AssemblerBuilder.html" title="interface in ghidra.app.plugin.assembler">AssemblerBuilder</a></pre>
<div class="block">An <a href="../AssemblerBuilder.html" title="interface in ghidra.app.plugin.assembler"><code>AssemblerBuilder</code></a> capable of supporting almost any <a href="../../processors/sleigh/SleighLanguage.html" title="class in ghidra.app.plugin.processors.sleigh"><code>SleighLanguage</code></a>
 
 To build an assembler, please use a static method of the <a href="../Assemblers.html" title="class in ghidra.app.plugin.assembler"><code>Assemblers</code></a> class.
 
 SLEIGH-based assembly is a bit of an experimental feature at this time. Nevertheless, it seems to
 have come along quite nicely. It's not quite as fast as disassembly, since after all, that's what
 SLEIGH was designed to do.
 
 Overall, the method is fairly simple, though its implementation is a bit more complex. First, we
 gather every pair of pattern and constructor by traversing the decision tree used by disassembly.
 We then use the "print pieces" to construct a context-free grammar. Each production is associated
 with the one-or-more constructors with the same sequence of print pieces. We then build a LALR(1)
 parser for the generated grammar. This now constitutes a generic parser for the given language.
 Note that this step takes some time, and may be better suited as a build-time step. Because
 SLEIGH specifications are not generally concerned with eliminating ambiguity of printed
 instructions (rather, it only does so for instruction bytes), we must consider that the grammar
 could be ambiguous. To handle this, the action/goto table is permitted multiple entries per cell,
 and we allow backtracking. There are also cases where tokens are not actually separated by
 spaces. For example, in the <code>ia.sinc</code> file, there is JMP ... and J^cc, meaning, the lexer
 must consider J as a token as well as JMP, introducing another source of possible backtracking.
 Despite that, parsing is completed fairly quickly.
 
 To assemble, we first parse the textual instruction, yielding zero or more parse trees. No parse
 trees implies an error. For each parse tree, we attempt to resolve the instruction bytes,
 starting at the leaves and working upwards while tracking and solving context changes. The
 context changes must be considered in reverse. We <em>read</em> the context register of the
 children (a disassembler would write). We then assume there is at most one variable in the
 expression, solve for it, and <em>write</em> the solution to the appropriate field (a
 disassembler would read). If no solution exists, a semantic error is logged. Since it's possible
 a production in the parse tree is associated with multiple constructors, different combinations
 of constructors are explored as we move upward in the tree. If all possible combinations yield
 semantic errors, then the overall result is an error.
 
 Some productions are "purely recursive," e.g., <code>:^instruction</code> lines in the SLEIGH. These
 are ignored during parser construction. Let such a production be given as I =&gt; I. When resolving
 the parse tree to bytes, and we encounter a production with I on the left hand side, we then
 consider the possible application of the production I =&gt; I and its consequential constructors.
 Ideally, we could repeat this indefinitely, stopping when all further applications result in
 semantic errors; however, there is no guarantee in the SLEIGH specification that such an
 algorithm will actually halt, so a maximum number (default of 1) of applications are attempted.
 
 After all the context changes and operands are resolved, we apply the constructor patterns and
 proceed up the tree. Thus, each branch yields zero or more "resolved constructors," which each
 specify two masked blocks of data: one for the instruction, and one for the context. These are
 passed up to the parent production, which, having obtained results from all its children,
 attempts to apply the corresponding constructors.
 
 Once we've resolved the root node, any resolved constructors returned are taken as successfully
 assembled instruction bytes. If applicable, the corresponding context registers are compared to
 the context at the target address in the program and filtered for compatibility.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.String,&#8203;<a href="symbol/AssemblySymbol.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol">AssemblySymbol</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#builtSymbols">builtSymbols</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="sem/AssemblyContextGraph.html" title="class in ghidra.app.plugin.assembler.sleigh.sem">AssemblyContextGraph</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ctxGraph">ctxGraph</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="util/DbgTimer.html" title="class in ghidra.app.plugin.assembler.sleigh.util">DbgTimer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dbg">dbg</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="sem/AssemblyDefaultContext.html" title="class in ghidra.app.plugin.assembler.sleigh.sem">AssemblyDefaultContext</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defaultContext">defaultContext</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generated">generated</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="grammars/AssemblyGrammar.html" title="class in ghidra.app.plugin.assembler.sleigh.grammars">AssemblyGrammar</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#grammar">grammar</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../processors/sleigh/SleighLanguage.html" title="class in ghidra.app.plugin.processors.sleigh">SleighLanguage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lang">lang</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="parse/AssemblyParser.html" title="class in ghidra.app.plugin.assembler.sleigh.parse">AssemblyParser</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#parser">parser</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(ghidra.app.plugin.processors.sleigh.SleighLanguage)">SleighAssemblerBuilder</a></span>&#8203;(<a href="../../processors/sleigh/SleighLanguage.html" title="class in ghidra.app.plugin.processors.sleigh">SleighLanguage</a>&nbsp;lang)</code></th>
<td class="colLast">
<div class="block">Construct an assembler builder for the given SLEIGH language</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildContext()">buildContext</a></span>()</code></th>
<td class="colLast">
<div class="block">Build the default context for the language</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildContextGraph()">buildContextGraph</a></span>()</code></th>
<td class="colLast">
<div class="block">Build the context transition graph for the language</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildGrammar()">buildGrammar</a></span>()</code></th>
<td class="colLast">
<div class="block">Build the full grammar for the language</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildParser()">buildParser</a></span>()</code></th>
<td class="colLast">
<div class="block">Build the parser for the language</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="grammars/AssemblyGrammar.html" title="class in ghidra.app.plugin.assembler.sleigh.grammars">AssemblyGrammar</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildSubGrammar(ghidra.app.plugin.processors.sleigh.symbol.SubtableSymbol)">buildSubGrammar</a></span>&#8203;(<a href="../../processors/sleigh/symbol/SubtableSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">SubtableSymbol</a>&nbsp;subtable)</code></th>
<td class="colLast">
<div class="block">Build a portion of the grammar representing a table of constructors</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateAssembler()">generateAssembler</a></span>()</code></th>
<td class="colLast">
<div class="block">Do the actual work to construct an assembler from a SLEIGH language</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="SleighAssembler.html" title="class in ghidra.app.plugin.assembler.sleigh">SleighAssembler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAssembler(ghidra.app.plugin.assembler.AssemblySelector)">getAssembler</a></span>&#8203;(<a href="../AssemblySelector.html" title="class in ghidra.app.plugin.assembler">AssemblySelector</a>&nbsp;selector)</code></th>
<td class="colLast">
<div class="block">Build an assembler with the given selector callback</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="SleighAssembler.html" title="class in ghidra.app.plugin.assembler.sleigh">SleighAssembler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAssembler(ghidra.app.plugin.assembler.AssemblySelector,ghidra.program.model.listing.Program)">getAssembler</a></span>&#8203;(<a href="../AssemblySelector.html" title="class in ghidra.app.plugin.assembler">AssemblySelector</a>&nbsp;selector,
            <a href="../../../../program/model/listing/Program.html" title="interface in ghidra.program.model.listing">Program</a>&nbsp;program)</code></th>
<td class="colLast">
<div class="block">Build an assembler with the given selector callback and program binding</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBitSize(ghidra.app.plugin.processors.sleigh.Constructor,ghidra.app.plugin.processors.sleigh.symbol.OperandSymbol)">getBitSize</a></span>&#8203;(<a href="../../processors/sleigh/Constructor.html" title="class in ghidra.app.plugin.processors.sleigh">Constructor</a>&nbsp;cons,
          <a href="../../processors/sleigh/symbol/OperandSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">OperandSymbol</a>&nbsp;opsym)</code></th>
<td class="colLast">
<div class="block">Obtain the size in bits of a textual operand.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected <a href="grammars/AssemblyGrammar.html" title="class in ghidra.app.plugin.assembler.sleigh.grammars">AssemblyGrammar</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getGrammar()">getGrammar</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the built grammar for the language</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../processors/sleigh/SleighLanguage.html" title="class in ghidra.app.plugin.processors.sleigh">SleighLanguage</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLanguage()">getLanguage</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the language for which this instance builds an assembler</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../program/model/lang/LanguageID.html" title="class in ghidra.program.model.lang">LanguageID</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLanguageID()">getLanguageID</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the ID of the language for which this instance builds an assembler</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected <a href="parse/AssemblyParser.html" title="class in ghidra.app.plugin.assembler.sleigh.parse">AssemblyParser</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getParser()">getParser</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the built parser for the language</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected <a href="symbol/AssemblySymbol.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol">AssemblySymbol</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSymbolFor(ghidra.app.plugin.processors.sleigh.Constructor,ghidra.app.plugin.processors.sleigh.symbol.OperandSymbol)">getSymbolFor</a></span>&#8203;(<a href="../../processors/sleigh/Constructor.html" title="class in ghidra.app.plugin.processors.sleigh">Constructor</a>&nbsp;cons,
            <a href="../../processors/sleigh/symbol/OperandSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">OperandSymbol</a>&nbsp;opsym)</code></th>
<td class="colLast">
<div class="block">Convert the given operand symbol to an <a href="symbol/AssemblySymbol.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblySymbol</code></a>
 
 For subtables, this results in a non-terminal, for all others, the result in a terminal.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected org.apache.commons.collections4.MultiValuedMap&lt;java.lang.String,&#8203;java.lang.Integer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invNameSymbol(ghidra.app.plugin.processors.sleigh.symbol.NameSymbol)">invNameSymbol</a></span>&#8203;(<a href="../../processors/sleigh/symbol/NameSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">NameSymbol</a>&nbsp;ns)</code></th>
<td class="colLast">
<div class="block">Invert a name table to a map suitable for use with <a href="symbol/AssemblyStringMapTerminal.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblyStringMapTerminal</code></a></div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.Long,&#8203;java.lang.Integer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invValueMap(ghidra.app.plugin.processors.sleigh.symbol.ValueMapSymbol)">invValueMap</a></span>&#8203;(<a href="../../processors/sleigh/symbol/ValueMapSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">ValueMapSymbol</a>&nbsp;vm)</code></th>
<td class="colLast">
<div class="block">Invert a value map to a map suitable for use with <a href="symbol/AssemblyNumericMapTerminal.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblyNumericMapTerminal</code></a></div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected org.apache.commons.collections4.MultiValuedMap&lt;java.lang.String,&#8203;java.lang.Integer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#invVarnodeList(ghidra.app.plugin.processors.sleigh.symbol.VarnodeListSymbol)">invVarnodeList</a></span>&#8203;(<a href="../../processors/sleigh/symbol/VarnodeListSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">VarnodeListSymbol</a>&nbsp;vnlist)</code></th>
<td class="colLast">
<div class="block">Invert a varnode list to a map suitable for use with <a href="symbol/AssemblyStringMapTerminal.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblyStringMapTerminal</code></a></div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="dbg">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dbg</h4>
<pre>protected static final&nbsp;<a href="util/DbgTimer.html" title="class in ghidra.app.plugin.assembler.sleigh.util">DbgTimer</a> dbg</pre>
</li>
</ul>
<a id="lang">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lang</h4>
<pre>protected&nbsp;<a href="../../processors/sleigh/SleighLanguage.html" title="class in ghidra.app.plugin.processors.sleigh">SleighLanguage</a> lang</pre>
</li>
</ul>
<a id="grammar">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grammar</h4>
<pre>protected&nbsp;<a href="grammars/AssemblyGrammar.html" title="class in ghidra.app.plugin.assembler.sleigh.grammars">AssemblyGrammar</a> grammar</pre>
</li>
</ul>
<a id="defaultContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultContext</h4>
<pre>protected&nbsp;<a href="sem/AssemblyDefaultContext.html" title="class in ghidra.app.plugin.assembler.sleigh.sem">AssemblyDefaultContext</a> defaultContext</pre>
</li>
</ul>
<a id="ctxGraph">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ctxGraph</h4>
<pre>protected&nbsp;<a href="sem/AssemblyContextGraph.html" title="class in ghidra.app.plugin.assembler.sleigh.sem">AssemblyContextGraph</a> ctxGraph</pre>
</li>
</ul>
<a id="parser">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parser</h4>
<pre>protected&nbsp;<a href="parse/AssemblyParser.html" title="class in ghidra.app.plugin.assembler.sleigh.parse">AssemblyParser</a> parser</pre>
</li>
</ul>
<a id="generated">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generated</h4>
<pre>protected&nbsp;boolean generated</pre>
</li>
</ul>
<a id="builtSymbols">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>builtSymbols</h4>
<pre>protected&nbsp;java.util.Map&lt;java.lang.String,&#8203;<a href="symbol/AssemblySymbol.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol">AssemblySymbol</a>&gt; builtSymbols</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(ghidra.app.plugin.processors.sleigh.SleighLanguage)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SleighAssemblerBuilder</h4>
<pre>public&nbsp;SleighAssemblerBuilder&#8203;(<a href="../../processors/sleigh/SleighLanguage.html" title="class in ghidra.app.plugin.processors.sleigh">SleighLanguage</a>&nbsp;lang)</pre>
<div class="block">Construct an assembler builder for the given SLEIGH language</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lang</code> - the language</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="generateAssembler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateAssembler</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;generateAssembler()
                          throws <a href="../../processors/sleigh/SleighException.html" title="class in ghidra.app.plugin.processors.sleigh">SleighException</a></pre>
<div class="block">Do the actual work to construct an assembler from a SLEIGH language</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../processors/sleigh/SleighException.html" title="class in ghidra.app.plugin.processors.sleigh">SleighException</a></code> - if there's an issue accessing the language</dd>
</dl>
</li>
</ul>
<a id="getLanguageID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLanguageID</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../../program/model/lang/LanguageID.html" title="class in ghidra.program.model.lang">LanguageID</a>&nbsp;getLanguageID()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../AssemblerBuilder.html#getLanguageID()">AssemblerBuilder</a></code></span></div>
<div class="block">Get the ID of the language for which this instance builds an assembler</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AssemblerBuilder.html#getLanguageID()">getLanguageID</a></code>&nbsp;in interface&nbsp;<code><a href="../AssemblerBuilder.html" title="interface in ghidra.app.plugin.assembler">AssemblerBuilder</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the language ID</dd>
</dl>
</li>
</ul>
<a id="getLanguage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLanguage</h4>
<pre class="methodSignature">public&nbsp;<a href="../../processors/sleigh/SleighLanguage.html" title="class in ghidra.app.plugin.processors.sleigh">SleighLanguage</a>&nbsp;getLanguage()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../AssemblerBuilder.html#getLanguage()">AssemblerBuilder</a></code></span></div>
<div class="block">Get the language for which this instance builds an assembler</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AssemblerBuilder.html#getLanguage()">getLanguage</a></code>&nbsp;in interface&nbsp;<code><a href="../AssemblerBuilder.html" title="interface in ghidra.app.plugin.assembler">AssemblerBuilder</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the language</dd>
</dl>
</li>
</ul>
<a id="getAssembler(ghidra.app.plugin.assembler.AssemblySelector)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssembler</h4>
<pre class="methodSignature">public&nbsp;<a href="SleighAssembler.html" title="class in ghidra.app.plugin.assembler.sleigh">SleighAssembler</a>&nbsp;getAssembler&#8203;(<a href="../AssemblySelector.html" title="class in ghidra.app.plugin.assembler">AssemblySelector</a>&nbsp;selector)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../AssemblerBuilder.html#getAssembler(ghidra.app.plugin.assembler.AssemblySelector)">AssemblerBuilder</a></code></span></div>
<div class="block">Build an assembler with the given selector callback</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AssemblerBuilder.html#getAssembler(ghidra.app.plugin.assembler.AssemblySelector)">getAssembler</a></code>&nbsp;in interface&nbsp;<code><a href="../AssemblerBuilder.html" title="interface in ghidra.app.plugin.assembler">AssemblerBuilder</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>selector</code> - the selector callback</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the built assembler</dd>
</dl>
</li>
</ul>
<a id="getAssembler(ghidra.app.plugin.assembler.AssemblySelector,ghidra.program.model.listing.Program)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAssembler</h4>
<pre class="methodSignature">public&nbsp;<a href="SleighAssembler.html" title="class in ghidra.app.plugin.assembler.sleigh">SleighAssembler</a>&nbsp;getAssembler&#8203;(<a href="../AssemblySelector.html" title="class in ghidra.app.plugin.assembler">AssemblySelector</a>&nbsp;selector,
                                    <a href="../../../../program/model/listing/Program.html" title="interface in ghidra.program.model.listing">Program</a>&nbsp;program)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../AssemblerBuilder.html#getAssembler(ghidra.app.plugin.assembler.AssemblySelector,ghidra.program.model.listing.Program)">AssemblerBuilder</a></code></span></div>
<div class="block">Build an assembler with the given selector callback and program binding</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AssemblerBuilder.html#getAssembler(ghidra.app.plugin.assembler.AssemblySelector,ghidra.program.model.listing.Program)">getAssembler</a></code>&nbsp;in interface&nbsp;<code><a href="../AssemblerBuilder.html" title="interface in ghidra.app.plugin.assembler">AssemblerBuilder</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>selector</code> - the selector callback</dd>
<dd><code>program</code> - the bound program</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the built assembler</dd>
</dl>
</li>
</ul>
<a id="invVarnodeList(ghidra.app.plugin.processors.sleigh.symbol.VarnodeListSymbol)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invVarnodeList</h4>
<pre class="methodSignature">protected&nbsp;org.apache.commons.collections4.MultiValuedMap&lt;java.lang.String,&#8203;java.lang.Integer&gt;&nbsp;invVarnodeList&#8203;(<a href="../../processors/sleigh/symbol/VarnodeListSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">VarnodeListSymbol</a>&nbsp;vnlist)</pre>
<div class="block">Invert a varnode list to a map suitable for use with <a href="symbol/AssemblyStringMapTerminal.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblyStringMapTerminal</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vnlist</code> - the varnode list symbol</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the inverted string map</dd>
</dl>
</li>
</ul>
<a id="invValueMap(ghidra.app.plugin.processors.sleigh.symbol.ValueMapSymbol)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invValueMap</h4>
<pre class="methodSignature">protected&nbsp;java.util.Map&lt;java.lang.Long,&#8203;java.lang.Integer&gt;&nbsp;invValueMap&#8203;(<a href="../../processors/sleigh/symbol/ValueMapSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">ValueMapSymbol</a>&nbsp;vm)</pre>
<div class="block">Invert a value map to a map suitable for use with <a href="symbol/AssemblyNumericMapTerminal.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblyNumericMapTerminal</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vm</code> - the value map symbol</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the inverted numeric map</dd>
</dl>
</li>
</ul>
<a id="invNameSymbol(ghidra.app.plugin.processors.sleigh.symbol.NameSymbol)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invNameSymbol</h4>
<pre class="methodSignature">protected&nbsp;org.apache.commons.collections4.MultiValuedMap&lt;java.lang.String,&#8203;java.lang.Integer&gt;&nbsp;invNameSymbol&#8203;(<a href="../../processors/sleigh/symbol/NameSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">NameSymbol</a>&nbsp;ns)</pre>
<div class="block">Invert a name table to a map suitable for use with <a href="symbol/AssemblyStringMapTerminal.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblyStringMapTerminal</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ns</code> - the name symbol</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the inverted string map</dd>
</dl>
</li>
</ul>
<a id="getSymbolFor(ghidra.app.plugin.processors.sleigh.Constructor,ghidra.app.plugin.processors.sleigh.symbol.OperandSymbol)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSymbolFor</h4>
<pre class="methodSignature">protected&nbsp;<a href="symbol/AssemblySymbol.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol">AssemblySymbol</a>&nbsp;getSymbolFor&#8203;(<a href="../../processors/sleigh/Constructor.html" title="class in ghidra.app.plugin.processors.sleigh">Constructor</a>&nbsp;cons,
                                      <a href="../../processors/sleigh/symbol/OperandSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">OperandSymbol</a>&nbsp;opsym)</pre>
<div class="block">Convert the given operand symbol to an <a href="symbol/AssemblySymbol.html" title="class in ghidra.app.plugin.assembler.sleigh.symbol"><code>AssemblySymbol</code></a>
 
 For subtables, this results in a non-terminal, for all others, the result in a terminal.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cons</code> - the constructor to which the operand belongs</dd>
<dd><code>opsym</code> - the operand symbol to convert</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the converted assembly grammar symbol</dd>
</dl>
</li>
</ul>
<a id="getBitSize(ghidra.app.plugin.processors.sleigh.Constructor,ghidra.app.plugin.processors.sleigh.symbol.OperandSymbol)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBitSize</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;getBitSize&#8203;(<a href="../../processors/sleigh/Constructor.html" title="class in ghidra.app.plugin.processors.sleigh">Constructor</a>&nbsp;cons,
                         <a href="../../processors/sleigh/symbol/OperandSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">OperandSymbol</a>&nbsp;opsym)</pre>
<div class="block">Obtain the size in bits of a textual operand.
 
 This is a little odd, since the variables in pattern expressions do not have an explicit
 size. However, the value exported by a constructor's pCode may have an explicit size given
 (in bytes). Thus, there is a special case, where a constructor prints just one operand and
 exports that same operand with an explicit size. In that case, the size of the operand is
 printed according to that exported size.
 
 For disassembly, this information is used simply to truncate the bits before they are
 displayed. For assembly, we must do two things: 1) Ensure that the provided value fits in the
 given size, and 2) Mask the goal when solving the pattern expression for the operand.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cons</code> - the constructor from which the production is being derived</dd>
<dd><code>opsym</code> - the operand symbol corresponding to the grammatical symbol, whose size we wish
            to determine.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of the operand in bits</dd>
</dl>
</li>
</ul>
<a id="buildSubGrammar(ghidra.app.plugin.processors.sleigh.symbol.SubtableSymbol)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildSubGrammar</h4>
<pre class="methodSignature">protected&nbsp;<a href="grammars/AssemblyGrammar.html" title="class in ghidra.app.plugin.assembler.sleigh.grammars">AssemblyGrammar</a>&nbsp;buildSubGrammar&#8203;(<a href="../../processors/sleigh/symbol/SubtableSymbol.html" title="class in ghidra.app.plugin.processors.sleigh.symbol">SubtableSymbol</a>&nbsp;subtable)</pre>
<div class="block">Build a portion of the grammar representing a table of constructors</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subtable</code> - the table</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the partial grammar</dd>
</dl>
</li>
</ul>
<a id="buildGrammar()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildGrammar</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;buildGrammar()</pre>
<div class="block">Build the full grammar for the language</div>
</li>
</ul>
<a id="buildContext()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildContext</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;buildContext()</pre>
<div class="block">Build the default context for the language</div>
</li>
</ul>
<a id="buildContextGraph()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildContextGraph</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;buildContextGraph()</pre>
<div class="block">Build the context transition graph for the language</div>
</li>
</ul>
<a id="buildParser()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildParser</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;buildParser()</pre>
<div class="block">Build the parser for the language</div>
</li>
</ul>
<a id="getGrammar()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGrammar</h4>
<pre class="methodSignature">protected&nbsp;<a href="grammars/AssemblyGrammar.html" title="class in ghidra.app.plugin.assembler.sleigh.grammars">AssemblyGrammar</a>&nbsp;getGrammar()</pre>
<div class="block">Get the built grammar for the language</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the grammar</dd>
</dl>
</li>
</ul>
<a id="getParser()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getParser</h4>
<pre class="methodSignature">protected&nbsp;<a href="parse/AssemblyParser.html" title="class in ghidra.app.plugin.assembler.sleigh.parse">AssemblyParser</a>&nbsp;getParser()</pre>
<div class="block">Get the built parser for the language</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the parser</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
